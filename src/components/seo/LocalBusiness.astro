---
interface Props {
  businessName?: string;
  description?: string;
  url?: string;
  telephone?: string;
  addressLocality?: string;
  addressRegion?: string;
  addressCountry?: string;
  latitude?: number;
  longitude?: number;
  openingHours?: string[];
  priceRange?: string;
}

const {
  businessName = 'UWS — Встановлення та Ремонт Вікон Київ',
  description = 'Профессиональна установка та ремонт вікон у Києві.',
  url = 'https://uws.com.ua',
  telephone = '+380660575202',
  addressLocality = 'Київ',
  addressRegion = 'Київська область',
  addressCountry = 'UA',
  latitude = 50.4501,
  longitude = 30.5234,
  openingHours = ['Mo-Fr 09:00-18:00', 'Sa 10:00-14:00'],
  priceRange = 'UAH 5000+',
} = Astro.props;

const schema = JSON.stringify({
  '@context': 'https://schema.org',
  '@type': 'LocalBusiness',
  name: businessName,
  description: description,
  url: url,
  telephone: telephone,
  address: {
    '@type': 'PostalAddress',
    addressLocality: addressLocality,
    addressRegion: addressRegion,
    addressCountry: addressCountry,
  },
  geo: {
    '@type': 'GeoCoordinates',
    latitude: latitude,
    longitude: longitude,
  },
  areaServed: {
    '@type': 'GeoCircle',
    geoMidpoint: {
      '@type': 'GeoCoordinates',
      latitude: latitude,
      longitude: longitude,
    },
    geoRadius: 50000,
  },
  openingHoursSpecification: openingHours.map((hours) => ({
    '@type': 'OpeningHoursSpecification',
    dayOfWeek: hours.split(' ')[0],
    opens: hours.split(' ')[1]?.split('-')[0],
    closes: hours.split(' ')[1]?.split('-')[1],
  })),
  priceRange: priceRange,
}, null, 2);
---

<script type="application/ld+json" set:html={schema} />
