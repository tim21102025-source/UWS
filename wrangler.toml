name = "uws-api"
compatibility_date = "2024-01-01"

# Pages project configuration
[pages]
project_name = "uws"
compatibility_flags = ["nodejs_compat"]

# Routes for API endpoints
# Uncomment and configure for custom domain
# [[pages.custom_domains]]
#   domain_name = "api.uws.com.ua"
#   zone_name = "uws.com.ua"

[vars]
ENVIRONMENT = "production"

# Supabase configuration secret keys (set in Cloudflare dashboard)
# These are not set here for security - set them in Pages Settings -> Environment variables

# CORS headers for API
[[headers]]
for = "/api/*"
[headers.values]
Access-Control-Allow-Origin = "https://uws.com.ua"
Access-Control-Allow-Methods = "GET, POST, OPTIONS"
Access-Control-Allow-Headers = "Content-Type"
Access-Control-Max-Age = "86400"

# Cache control for static assets
[[headers]]
for = "/*"
[headers.values]
X-Content-Type-Options = "nosniff"
X-Frame-Options = "DENY"
X-XSS-Protection = "1; mode=block"
Referrer-Policy = "strict-origin-when-cross-origin"
Permissions-Policy = "camera=(), microphone=(), geolocation=()"
